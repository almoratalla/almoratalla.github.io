({672:function(){let e="normal",t="rps",o=!1,n=[],r=[],s=0,a=0;const c=()=>{l(t),i(null,e,t)},l=e=>{document.querySelectorAll("div.main>.controls button").forEach((t=>t.addEventListener("click",p.bind(this,e))))},i=(e,t,o,n)=>{const r=document.querySelector("#score"),s=document.querySelector("#ai-score");return!e&&o&&function(e,t){"hard"!==e?r.textContent=window.localStorage.getItem(`${t}-score`)?window.localStorage.getItem(`${t}-score`):"0":(r.textContent=window.localStorage.getItem(`${t}-hard-score`)?window.localStorage.getItem(`${t}-hard-score`).split(",")[0]:"0",s.textContent=window.localStorage.getItem(`${t}-hard-score`)?window.localStorage.getItem(`${t}-hard-score`).split(",")[1]:"0")}(t,o),e&&"hard"===t&&function(e,t){const o=document.querySelector("#score"),n=document.querySelector("#ai-score");"win"===t?o.textContent=parseInt(o.textContent)+1:"lose"===t?0!=parseInt(o.textContent)&&parseInt(o.textContent)>0&&(o.textContent=parseInt(o.textContent)-1):o.textContent,n.textContent="lose"===t?parseInt(n.textContent)+1:n.textContent,window.localStorage.setItem(`${e}-hard-score`,[o.textContent,n.textContent])}(o,n),e&&"hard"!==t&&function(e,t){r.textContent="win"===t?parseInt(r.textContent)+1:"lose"===t?0!=parseInt(r.textContent)&&parseInt(r.textContent)>0?parseInt(r.textContent)-1:0:r.textContent,window.localStorage.setItem(`${e}-score`,r.textContent)}(o,n),{op:e,prev:parseInt(r.textContent),curr:[r.textContent,s?s.textContent:null]}},d=e=>{let t=[];return("rps"===e?["paper","scissors","rock"]:["scissors","spock","paper","lizard","rock"]).forEach((e=>{let o=document.createElement("button"),n=document.createElement("span"),r=document.createElement("img");o.dataset.option=`${e}-option`,n.dataset.option=`${e}-option`,r.dataset.option=`${e}-option`,o.classList=`${e}-option ${e}__option__main`,r.src=`./images/icon-${e}.svg`,r.alt=e,r.classList=`${e}-image`,n.append(r),o.append(n),t.push(o)})),t},p=async(t,o)=>{let n=e;document.querySelector("#mode-toggle").disabled=!0,document.querySelector("#game-toggle").disabled=!0;const[r]=o.target.dataset.option.toString().split("-"),s=["rock","paper","scissors","spock","lizard"],a="rps"===t?["paper","scissors","rock"]:s;let c,l,i,d;if(i="rps"===t?2:4,d=0,c=s.findIndex((e=>e==r))+1,"normal"===n)l=a[Math.floor(Math.random()*(i-0+1)+0)];else{const e=await S(c,t);l=s[s.findIndex(((t,o)=>e==o+1))]}m(r,l,n,t)},m=(e,t,o,n)=>{document.querySelector(".controls").remove();let r,s,a,c,l,d=[e,t],p=["user","computer"];const m=document.createElement("section");m.classList="results-section",m.style.display="flex",document.querySelector("div.main").prepend(m),d.forEach(((e,t)=>function(e,t){const o=document.createElement("div"),n=document.createElement("h3"),l=document.createElement("button"),i=document.createElement("span"),d=document.createElement("img");o.classList=`${t}-option`,n.textContent="user"===t?"YOU PICKED":"THE HOUSE PICKED",l.classList=`${e.toString().toLowerCase().trim()}-option picking-option`,"user"===t?l.classList.add("user-picking"):l.classList.add("picking"),d.src=`./images/icon-${e.toString().toLowerCase().trim()}.svg`,d.alt=e.toString().trim(),d.classList=`${e.toString().trim().toLowerCase()}-image`,i.prepend(d),l.prepend(i),o.append(n),o.append(l),m.append(o),"user"===t?r=l:s=l,"user"===t?a=o:c=o}(e,p[t]))),setTimeout((function(){s.classList.toggle("picking"),m.style.padding="1em 0"}),2e3),function(o){l=e===t?"draw":function(o){return"rps"===o?"rock"===e&&"scissors"===t||"paper"===e&&"rock"===t||"scissors"===e&&"paper"===t:"rock"===e&&"scissors"===t||"paper"===e&&"rock"===t||"scissors"===e&&"paper"===t||"rock"===e&&"lizard"===t||"lizard"===e&&"spock"===t||"spock"===e&&"scissors"===t||"scissors"===e&&"lizard"===t||"paper"===e&&"spock"===t||"lizard"===e&&"paper"===t||"spock"===e&&"rock"===t}(o)?"win":"lose"}(n),function(e){const t=document.createElement("div"),c=document.createElement("h2"),l=document.createElement("button");t.classList="results-pane",c.classList="result-banner",c.textContent="draw"!==e.toString().toLowerCase().trim()?`YOU ${e.toString().toUpperCase().trim()}`:"IT'S A TIE",l.id="reset",l.textContent="PLAY AGAIN",l.addEventListener("click",g.bind(this,n)),t.prepend(c),t.append(l),setTimeout((()=>{a.insertAdjacentElement("afterend",t),"win"===e?r.classList.add("win-option"):"lose"===e&&s.classList.add("win-option"),i("add",o,n,e)}),3e3)}(l)},u=()=>{document.querySelector(".page-wrap").remove(),document.querySelector(".rules3__modal").remove()},g=e=>{document.querySelector(".results-section").remove(),document.querySelector("#mode-toggle").disabled=!1,document.querySelector("#game-toggle").disabled=!1;const t=document.createElement("div"),o=d(e);t.classList=`controls controls__${e}`,o.forEach((e=>t.append(e))),document.querySelector("div.main").prepend(t),c()},S=async(e,t)=>("rps"===t?s++:a++,(e=>{if("rps"===e){if(n=window.localStorage.getItem("rps-pattern")?window.localStorage.getItem("rps-pattern").split(",").map(Number):[],n.length<1)for(let e=1;e<=13;e++)n.push(Math.floor(3*Math.random())+1)}else if(r=window.localStorage.getItem("rpsls-pattern")?window.localStorage.getItem("rpsls-pattern").split(",").map(Number):[],r.length<1)for(let e=1;e<=13;e++)r.push(Math.floor(5*Math.random())+1)})(t),await h(e,t)),h=(e,t)=>new Promise((o=>{const c=new brain.recurrent.LSTMTimeStep;let l,i,d;l="rps"===t?3:5,i=1,"rps"===t?c.train([n],{iterations:100,log:!1}):c.train([r],{iterations:100,log:!1});const p="rps"===t?c.run(n):c.run(r),m=Math.round(p);d=1<=m&&m<=l?m%l+1:1,"rpsls"===t&&(d=e==d+1?e+1:d),((e,t)=>{"rps"===t?0!==s&&(n.shift(),n.push(e),window.localStorage.setItem("rps-pattern",n)):0!==a&&(r.shift(),r.push(e),window.localStorage.setItem("rpsls-pattern",r))})(e,t),o(d)}));document.querySelector("nav.rules>button").addEventListener("click",(e=>{if("close"===e.target.classList[0]){let e=document.querySelector("body"),o=document.createElement("div"),n=document.createElement("div"),r=document.createElement("h3"),s=document.createElement("button"),a=document.createElement("img"),c=document.createElement("img");o.classList="page-wrap",n.classList="rules3__modal",r.textContent="RULES",a.classList="close__modal",a.src="./images/icon-close.svg",a.alt="Close button to close the rules",c.classList="img__rules",c.src="rps"==t?"./images/image-rules.svg":"./images/image-rules-bonus.svg",c.alt="Here are the rules: Paper beats rock, Rock beats scissors, Scissors beat paper",s.append(a),n.append(r),n.append(s),n.append(c),e.appendChild(o),e.appendChild(n),s.addEventListener("click",u),o.addEventListener("click",u),s=null,o=null}}).bind(this)),document.querySelector("#game-toggle").addEventListener("click",(o=>{const n=document.querySelector("header>div.head__header").querySelector("img"),r=document.querySelector("main>div.main"),s=r.querySelector("div.controls");let a=document.createElement("div");(function(o,c){n.class=`logo__${o}`,n.src="rpsls"===o?"./images/logo-bonus.svg":"./images/logo.svg",r.classList=`main main__${o}`,s.remove(),a.classList=`controls controls__${o}`,r.append(a),d(o).forEach((e=>a.append(e))),c.target.textContent=o.toString().toUpperCase(),c.target.style.color="rpsls"===o?"hsl(237, 49%, 15%)":"white",c.target.style["background-position"]="rpsls"===o?"100%":"0",t=o,i(null,e,o)})("rps"===t?"rpsls":"rps",o),l(t)})),document.querySelector("#mode-toggle").addEventListener("click",(n=>{o=!0;const r=document.querySelector("header>div.head__header .score-head");function s(t,o){o.target.textContent=t.toString().toUpperCase(),o.target.style.color="hard"===t?"hsl(237, 49%, 15%)":"white",o.target.style["background-position"]="hard"===t?"100%":"0%",e=t}if("normal"===e){s("hard",n);const o=document.createElement("div"),a=document.createElement("span"),c=document.createElement("p");o.classList="ai-score",a.textContent="THE HOUSE",c.id="ai-score",r.querySelector(".score h4").textContent="YOUR SCORE",o.append(a),o.append(c),r.append(o),i(null,e,t)}else s("normal",n),document.querySelector(".ai-score").remove(),document.querySelector(".score h4").textContent="SCORE",i(null,e,t)})),c()}})[672]();